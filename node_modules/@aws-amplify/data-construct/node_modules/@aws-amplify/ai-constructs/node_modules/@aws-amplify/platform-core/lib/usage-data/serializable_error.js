"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SerializableError = void 0;
const path_1 = __importDefault(require("path"));
const url_1 = require("url");
const os_1 = require("os");
/**
 * Wrapper around Error for serialization for usage metrics
 */
class SerializableError {
    name;
    message;
    details;
    trace;
    // breakdown of filePathRegex:
    // (file:/+)? -> matches optional file url prefix
    // homedir() -> users home directory, replacing \ with /
    // [\\w.\\-_@\\\\/]+ -> matches nested directories and file name
    filePathRegex = new RegExp(`(file:/+)?${(0, os_1.homedir)().replaceAll('\\', '/')}[\\w.\\-_@\\\\/]+`, 'g');
    stackTraceRegex = /^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;
    arnRegex = /arn:[a-z0-9][-.a-z0-9]{0,62}:[A-Za-z0-9][A-Za-z0-9_/.-]{0,62}:[A-Za-z0-9_/.-]{0,63}:[A-Za-z0-9_/.-]{0,63}:[A-Za-z0-9][A-Za-z0-9:_/+=,@.-]{0,1023}/g;
    stackRegex = /amplify-[a-zA-Z0-9-]+/g;
    /**
     * constructor for SerializableError
     */
    constructor(error) {
        this.name =
            'code' in error && error.code
                ? this.sanitize(error.code)
                : error.name;
        this.message = this.anonymizePaths(this.sanitize(error.message));
        this.details =
            'details' in error
                ? this.anonymizePaths(this.sanitize(error.details))
                : undefined;
        this.trace = this.extractStackTrace(error);
    }
    extractStackTrace = (error) => {
        const result = [];
        if (error.stack) {
            const stack = error.stack.split('\n');
            stack.forEach((line) => {
                const match = this.stackTraceRegex.exec(line);
                if (match) {
                    const [, methodName, file, lineNumber, columnNumber] = match;
                    result.push({
                        methodName,
                        file,
                        lineNumber,
                        columnNumber,
                    });
                }
            });
            const processedPaths = this.processPaths(result.map((trace) => trace.file));
            result.forEach((trace, index) => {
                trace.file = processedPaths[index];
            });
        }
        return result;
    };
    anonymizePaths = (str) => {
        let result = str;
        const matches = [...result.matchAll(this.filePathRegex)];
        for (const match of matches) {
            result = result.replace(match[0], this.processPaths([match[0]])[0]);
        }
        return result;
    };
    processPaths = (paths) => {
        return paths.map((tracePath) => {
            let result = tracePath;
            if (this.isURLFilePath(result)) {
                result = (0, url_1.fileURLToPath)(result);
            }
            if (path_1.default.isAbsolute(result)) {
                return path_1.default.relative(process.cwd(), result);
            }
            return result;
        });
    };
    removeARN = (str) => {
        return str?.replace(this.arnRegex, '<escaped ARN>') ?? '';
    };
    removeStackIdentifier = (str) => {
        return str?.replace(this.stackRegex, '<escaped stack>') ?? '';
    };
    sanitize = (str) => {
        let result = str;
        result = this.removeARN(result);
        result = this.removeStackIdentifier(result);
        return result.replaceAll(/["âŒ]/g, '');
    };
    isURLFilePath = (path) => {
        try {
            new URL(path);
            return path.startsWith('file:');
        }
        catch {
            return false;
        }
    };
}
exports.SerializableError = SerializableError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXphYmxlX2Vycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzYWdlLWRhdGEvc2VyaWFsaXphYmxlX2Vycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdEQUF3QjtBQUN4Qiw2QkFBb0M7QUFDcEMsMkJBQTZCO0FBRTdCOztHQUVHO0FBQ0gsTUFBYSxpQkFBaUI7SUFDNUIsSUFBSSxDQUFTO0lBQ2IsT0FBTyxDQUFTO0lBQ2hCLE9BQU8sQ0FBVTtJQUNqQixLQUFLLENBQVc7SUFFaEIsOEJBQThCO0lBQzlCLGlEQUFpRDtJQUNqRCx3REFBd0Q7SUFDeEQsZ0VBQWdFO0lBQ3hELGFBQWEsR0FBRyxJQUFJLE1BQU0sQ0FDaEMsYUFBYSxJQUFBLFlBQU8sR0FBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLG1CQUFtQixFQUMvRCxHQUFHLENBQ0osQ0FBQztJQUNNLGVBQWUsR0FDckIsK0ZBQStGLENBQUM7SUFDMUYsUUFBUSxHQUNkLG9KQUFvSixDQUFDO0lBQy9JLFVBQVUsR0FBRyx3QkFBd0IsQ0FBQztJQUM5Qzs7T0FFRztJQUNILFlBQVksS0FBWTtRQUN0QixJQUFJLENBQUMsSUFBSTtZQUNQLE1BQU0sSUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7Z0JBQzNCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFjLENBQUM7Z0JBQ3JDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxPQUFPO1lBQ1YsU0FBUyxJQUFJLEtBQUs7Z0JBQ2hCLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQWlCLENBQUMsQ0FBQztnQkFDN0QsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU8saUJBQWlCLEdBQUcsQ0FBQyxLQUFZLEVBQVcsRUFBRTtRQUNwRCxNQUFNLE1BQU0sR0FBWSxFQUFFLENBQUM7UUFDM0IsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO1lBQ2YsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNyQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDOUMsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsTUFBTSxDQUFDLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsWUFBWSxDQUFDLEdBQUcsS0FBSyxDQUFDO29CQUM3RCxNQUFNLENBQUMsSUFBSSxDQUFDO3dCQUNWLFVBQVU7d0JBQ1YsSUFBSTt3QkFDSixVQUFVO3dCQUNWLFlBQVk7cUJBQ2IsQ0FBQyxDQUFDO2lCQUNKO1lBQ0gsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUN0QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQ2xDLENBQUM7WUFDRixNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO2dCQUM5QixLQUFLLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyQyxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQyxDQUFDO0lBRU0sY0FBYyxHQUFHLENBQUMsR0FBVyxFQUFVLEVBQUU7UUFDL0MsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2pCLE1BQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ3pELEtBQUssTUFBTSxLQUFLLElBQUksT0FBTyxFQUFFO1lBQzNCLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JFO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQyxDQUFDO0lBRU0sWUFBWSxHQUFHLENBQUMsS0FBZSxFQUFZLEVBQUU7UUFDbkQsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDN0IsSUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDO1lBQ3ZCLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDOUIsTUFBTSxHQUFHLElBQUEsbUJBQWEsRUFBQyxNQUFNLENBQUMsQ0FBQzthQUNoQztZQUNELElBQUksY0FBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDM0IsT0FBTyxjQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQzthQUM3QztZQUVELE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRU0sU0FBUyxHQUFHLENBQUMsR0FBWSxFQUFVLEVBQUU7UUFDM0MsT0FBTyxHQUFHLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzVELENBQUMsQ0FBQztJQUVNLHFCQUFxQixHQUFHLENBQUMsR0FBWSxFQUFVLEVBQUU7UUFDdkQsT0FBTyxHQUFHLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEUsQ0FBQyxDQUFDO0lBRU0sUUFBUSxHQUFHLENBQUMsR0FBVyxFQUFFLEVBQUU7UUFDakMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO1FBQ2pCLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUM7SUFFTSxhQUFhLEdBQUcsQ0FBQyxJQUFZLEVBQVcsRUFBRTtRQUNoRCxJQUFJO1lBQ0YsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDZCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDakM7UUFBQyxNQUFNO1lBQ04sT0FBTyxLQUFLLENBQUM7U0FDZDtJQUNILENBQUMsQ0FBQztDQUNIO0FBNUdELDhDQTRHQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBob21lZGlyIH0gZnJvbSAnb3MnO1xuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIEVycm9yIGZvciBzZXJpYWxpemF0aW9uIGZvciB1c2FnZSBtZXRyaWNzXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJpYWxpemFibGVFcnJvciB7XG4gIG5hbWU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkZXRhaWxzPzogc3RyaW5nO1xuICB0cmFjZT86IFRyYWNlW107XG5cbiAgLy8gYnJlYWtkb3duIG9mIGZpbGVQYXRoUmVnZXg6XG4gIC8vIChmaWxlOi8rKT8gLT4gbWF0Y2hlcyBvcHRpb25hbCBmaWxlIHVybCBwcmVmaXhcbiAgLy8gaG9tZWRpcigpIC0+IHVzZXJzIGhvbWUgZGlyZWN0b3J5LCByZXBsYWNpbmcgXFwgd2l0aCAvXG4gIC8vIFtcXFxcdy5cXFxcLV9AXFxcXFxcXFwvXSsgLT4gbWF0Y2hlcyBuZXN0ZWQgZGlyZWN0b3JpZXMgYW5kIGZpbGUgbmFtZVxuICBwcml2YXRlIGZpbGVQYXRoUmVnZXggPSBuZXcgUmVnRXhwKFxuICAgIGAoZmlsZTovKyk/JHtob21lZGlyKCkucmVwbGFjZUFsbCgnXFxcXCcsICcvJyl9W1xcXFx3LlxcXFwtX0BcXFxcXFxcXC9dK2AsXG4gICAgJ2cnXG4gICk7XG4gIHByaXZhdGUgc3RhY2tUcmFjZVJlZ2V4ID1cbiAgICAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/W15cXFxcL10rKD86IFxcW2FzIFxcUytcXF0pPykgKT9cXCg/KC4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2k7XG4gIHByaXZhdGUgYXJuUmVnZXggPVxuICAgIC9hcm46W2EtejAtOV1bLS5hLXowLTldezAsNjJ9OltBLVphLXowLTldW0EtWmEtejAtOV8vLi1dezAsNjJ9OltBLVphLXowLTlfLy4tXXswLDYzfTpbQS1aYS16MC05Xy8uLV17MCw2M306W0EtWmEtejAtOV1bQS1aYS16MC05Ol8vKz0sQC4tXXswLDEwMjN9L2c7XG4gIHByaXZhdGUgc3RhY2tSZWdleCA9IC9hbXBsaWZ5LVthLXpBLVowLTktXSsvZztcbiAgLyoqXG4gICAqIGNvbnN0cnVjdG9yIGZvciBTZXJpYWxpemFibGVFcnJvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZXJyb3I6IEVycm9yKSB7XG4gICAgdGhpcy5uYW1lID1cbiAgICAgICdjb2RlJyBpbiBlcnJvciAmJiBlcnJvci5jb2RlXG4gICAgICAgID8gdGhpcy5zYW5pdGl6ZShlcnJvci5jb2RlIGFzIHN0cmluZylcbiAgICAgICAgOiBlcnJvci5uYW1lO1xuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMuYW5vbnltaXplUGF0aHModGhpcy5zYW5pdGl6ZShlcnJvci5tZXNzYWdlKSk7XG4gICAgdGhpcy5kZXRhaWxzID1cbiAgICAgICdkZXRhaWxzJyBpbiBlcnJvclxuICAgICAgICA/IHRoaXMuYW5vbnltaXplUGF0aHModGhpcy5zYW5pdGl6ZShlcnJvci5kZXRhaWxzIGFzIHN0cmluZykpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHRoaXMudHJhY2UgPSB0aGlzLmV4dHJhY3RTdGFja1RyYWNlKGVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgZXh0cmFjdFN0YWNrVHJhY2UgPSAoZXJyb3I6IEVycm9yKTogVHJhY2VbXSA9PiB7XG4gICAgY29uc3QgcmVzdWx0OiBUcmFjZVtdID0gW107XG4gICAgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICBjb25zdCBzdGFjayA9IGVycm9yLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHN0YWNrLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLnN0YWNrVHJhY2VSZWdleC5leGVjKGxpbmUpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBbLCBtZXRob2ROYW1lLCBmaWxlLCBsaW5lTnVtYmVyLCBjb2x1bW5OdW1iZXJdID0gbWF0Y2g7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgbWV0aG9kTmFtZSxcbiAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgY29sdW1uTnVtYmVyLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHByb2Nlc3NlZFBhdGhzID0gdGhpcy5wcm9jZXNzUGF0aHMoXG4gICAgICAgIHJlc3VsdC5tYXAoKHRyYWNlKSA9PiB0cmFjZS5maWxlKVxuICAgICAgKTtcbiAgICAgIHJlc3VsdC5mb3JFYWNoKCh0cmFjZSwgaW5kZXgpID0+IHtcbiAgICAgICAgdHJhY2UuZmlsZSA9IHByb2Nlc3NlZFBhdGhzW2luZGV4XTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHByaXZhdGUgYW5vbnltaXplUGF0aHMgPSAoc3RyOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGxldCByZXN1bHQgPSBzdHI7XG4gICAgY29uc3QgbWF0Y2hlcyA9IFsuLi5yZXN1bHQubWF0Y2hBbGwodGhpcy5maWxlUGF0aFJlZ2V4KV07XG4gICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShtYXRjaFswXSwgdGhpcy5wcm9jZXNzUGF0aHMoW21hdGNoWzBdXSlbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUGF0aHMgPSAocGF0aHM6IHN0cmluZ1tdKTogc3RyaW5nW10gPT4ge1xuICAgIHJldHVybiBwYXRocy5tYXAoKHRyYWNlUGF0aCkgPT4ge1xuICAgICAgbGV0IHJlc3VsdCA9IHRyYWNlUGF0aDtcbiAgICAgIGlmICh0aGlzLmlzVVJMRmlsZVBhdGgocmVzdWx0KSkge1xuICAgICAgICByZXN1bHQgPSBmaWxlVVJMVG9QYXRoKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAocGF0aC5pc0Fic29sdXRlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHBhdGgucmVsYXRpdmUocHJvY2Vzcy5jd2QoKSwgcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHJlbW92ZUFSTiA9IChzdHI/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBzdHI/LnJlcGxhY2UodGhpcy5hcm5SZWdleCwgJzxlc2NhcGVkIEFSTj4nKSA/PyAnJztcbiAgfTtcblxuICBwcml2YXRlIHJlbW92ZVN0YWNrSWRlbnRpZmllciA9IChzdHI/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBzdHI/LnJlcGxhY2UodGhpcy5zdGFja1JlZ2V4LCAnPGVzY2FwZWQgc3RhY2s+JykgPz8gJyc7XG4gIH07XG5cbiAgcHJpdmF0ZSBzYW5pdGl6ZSA9IChzdHI6IHN0cmluZykgPT4ge1xuICAgIGxldCByZXN1bHQgPSBzdHI7XG4gICAgcmVzdWx0ID0gdGhpcy5yZW1vdmVBUk4ocmVzdWx0KTtcbiAgICByZXN1bHQgPSB0aGlzLnJlbW92ZVN0YWNrSWRlbnRpZmllcihyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQucmVwbGFjZUFsbCgvW1wi4p2MXS9nLCAnJyk7XG4gIH07XG5cbiAgcHJpdmF0ZSBpc1VSTEZpbGVQYXRoID0gKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBuZXcgVVJMKHBhdGgpO1xuICAgICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aCgnZmlsZTonKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59XG5cbnR5cGUgVHJhY2UgPSB7XG4gIG1ldGhvZE5hbWU6IHN0cmluZztcbiAgZmlsZTogc3RyaW5nO1xuICBsaW5lTnVtYmVyOiBzdHJpbmc7XG4gIGNvbHVtbk51bWJlcjogc3RyaW5nO1xufTtcbiJdfQ==